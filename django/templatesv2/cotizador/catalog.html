{% extends "cotizador/base_catalog.html" %}

{% block title %}
    {{ form.generateTitle }} - SoloNotebooks
{% endblock %}

{% block catalog_content %}
<div id="param-cat">

	<ul id="breadcrumbs">
        {% if not remove_filter_links %}
            <li>No hay filtros</li>
        {% else %}
		    {% for key, value in remove_filter_links.items %}
			<li>{{ key }}<sup><a href="{{ value }}" title="Remover filtro">(X)</a></sup></a> &gt;</li>
            {% endfor %}
        {% endif %}
	
	</ul>
	<br class="clear" />
	
	<div class="left precio-cat">
		{{ min_price }} a {{ max_price }} pesos
	</div>
	
	<div id="order-list">
	    <input type="hidden" id="current_url" value="{{ current_url }}" />
		<span>Ordenar por</span>
		<select id="ordering_options">
            {% for ordering_criteria in form.getOrderingOptions %}
                {% ifequal ordering ordering_criteria.0 %}
                    <option value="{{ ordering_criteria.0 }}" selected="selected">{{ ordering_criteria.1 }}</option>            
                {% else %}
                    <option value="{{ ordering_criteria.0}}">{{ ordering_criteria.1 }}</option>
                {% endifequal %}
            {% endfor %}
        </select>
	</div>
	
<br class="clear" />
</div> <!-- end param cat -->

<div id="cat-index">
    {% if notebooks %}
	<p class="resultados-p">{{first_result_index}} - {{ last_result_index }} de {{ num_results }} Resultados</p>	
	
	{% for notebook in notebooks %}
	    <div class="producto-li">
		    <div class="{{ notebook.ntype.css_name }}">
			    <a href="{% url cotizador.views.notebook_details notebook.id %}" title="{{ notebook }}">
				    {{ notebook.picture.thumbnail_tag }}<br />
			    </a>
			    <p>{{ notebook.ntype.name }}</p>	
		    </div>
		    <div class="content-producto">
			    <a href="{% url cotizador.views.notebook_details notebook.id %}" title="{{ notebook }}">{{ notebook }}</a>
			    <ul class="info-producto left">
				    <li><strong>Procesador:</strong> {{ notebook.processor.pretty_print }}</li>
				    <li><strong>RAM:</strong> {{ notebook.ram_quantity }} ({{notebook.ram_type}}-{{notebook.ram_frequency.value}})</li>
				    <li><strong>Disco Duro:</strong> {{ notebook.storage_drive.all.0 }}</li>
				    <li><strong>Pantalla:</strong> {{ notebook.screen.pretty_display }}</li>
			    </ul>
			    <ul class="precio-producto right">
				    <li><a href="{% url cotizador.views.notebook_details notebook.id %}">{{ notebook.pretty_min_price }}</a></li>
				    {% if notebook.week_discount >= 10 %}
				    <li class="mas-barato"><strong>{{ notebook.week_discount }}</strong>% de Descuento</li>
				    {% endif %}
			    </ul>
		    <br class="clear" />
			    <a href="#" class="right findex" title="Agregar a Favoritos">agregar</a>
		    </div>
	    <br class="clear" />
	    </div> <!-- end producto li -->
    {% endfor %}
    {% else %}
        No hay resultados para su busqueda
    {% endif %}
</div><!-- !end cat right -->

<div id="pagination">
    {% ifnotequal page_count 0 %}
        {% ifnotequal page_number 1 %}
		    <a href="{{ form.generateBasePageLink }}{{ prev_page }}" title="Anterior">&laquo; Anterior</a>                        
        {% endifnotequal %}
        {% ifnotequal left_page 1 %}
            ...
        {% endifnotequal %}
        {% for page in page_range %}
            {% ifequal page page_number %}
                <span class="page-active">Pagina: {{ page }}</span>
            {% else %}
			    <a href="{{ form.generateBasePageLink }}{{ page }}" title="Numero pagina">{{ page }}</a>
            {% endifequal %}
        {% endfor %}
        {% ifnotequal right_page page_count %}
            ...
        {% endifnotequal %}
        {% ifnotequal page_number page_count %}
            <a href="{{ form.generateBasePageLink }}{{ post_page }}" title="Siguiente">Siguiente &raquo;</a>
        {% endifnotequal %}
    {% endifnotequal %}
</div> <!-- end pagination -->
{% endblock %}		
